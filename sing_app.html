<html>
    <head>
        <meta charset="utf-8">
        <title>Форма</title>
        <link rel="stylesheet" href="main.css">
        <script src='https://www.google.com/recaptcha/api.js'></script>
    </head>

    <style id="inverter" media="none">
        html { background-color: rgb(255, 255, 255); filter: invert(100%) }
        body { background-color: inherit }
        img:not([src*=".png"]), [style*="url("] { filter: invert(100%) }
        .transparent:not([ background-image*= ".png"]), [url*="url("] {filter: invert(100%)}
      </style>
    
    <body>
        <div class="wrap">
            <label class="button">
              <input type="checkbox" id="themer">
              Dark theme: <span aria-hidden="true"></span>
            </label>
        <form class="transparent" action = 'foo.php' method="post">
            <div class="form-inner">
                <h3>Регистрация</h3>
                
                <br>

                <label for="firstname">Имя</label>
                <input type="text" id="firstname" required autocomplete="off" name = "firstname">

                <label for="lastname">Фамилия</label>
                <input type="text" id="lastname" required autocomplete="off" name = "lastname" >
i
                <label for="email">E-mail</label>
                <input type="email" id="email" required autocomplete="off"name = "email">

                <label for="username">Логин</label>
                <input type="text" id="username" required autocomplete="off" name = "username">

                <form name="ValidationForm">

                    <label for="password">Пароль</label>
                    <input id="password1" type="password" required autocomplete="off" name = "password">

                    <label for="password">Подтверждение пароль</label>
                    <input id="password2" type="password" required autocomplete="off">
                    <div class="g-recaptcha" data-sitekey="6LfrYOAUAAAAAEgYxnnYw06ZaOiYHi95iLMmygmi"></div>
                    <br><br>
                    <input type="submit" value="Отправить">
                </form>   
           </div>
         </form>


         <script type="text/javascript">

            function validationValue(){
                let firstname = document.getElementById("firstname").value;
                let lastname = document.getElementById("lastname").value;
                let username = document.getElementById("username").value;
            /*эта херабора не рабит над подобрать регулярку, ну или научиться пользоваться методом, ну или у меня руки кривые*/
                regexp = new RegExp("/[А-Я][а-я][A-Z][a-z]*/");
                if(regexp.test(firstname))
                    document.getElementById("firstname").setCustomValidity("Недопустимые символы");
                if(regexp.test(lastname))
                    document.getElementById("lastname").setCustomValidity("Недопустимые символы");
                if(regexp.test(username))
                    document.getElementById("username").setCustomValidity("Недопустимые символы");
                 /*тут должна была быть куча проверок с регулярками и т.д
                    Но кому это надо если проверки формы более приоритетны и смысла в этой функции нет(ну и .....)*/
                     
                
            }


            window.onload = function () {
                document.getElementById("password1").onchange = validatePassword;
                document.getElementById("password2").onchange = validatePassword;

                document.getElementById("firstname").onchange = validationValue;
                document.getElementById("lastname").onchange = validationValue;
                document.getElementById("username").onchange = validationValue;
            }
            function validatePassword(){
            var pass2 = document.getElementById("password2").value;
            var pass1 = document.getElementById("password1").value;
            if(pass1 !== pass2)
                document.getElementById("password2").setCustomValidity("Passwords Don't Match");
            else
                document.getElementById("password2").setCustomValidity('');
            }

        </script>

        <script>
            var checkbox = document.getElementById('themer');
            var invertor = document.getElementById('inverter');

            checkbox.addEventListener('change', function () {
            invertor.setAttribute('media', this.checked ? 'screen' : 'none');
            invertor.textContent = invertor.textContent.trim();
            });       
         </script>
    </body>
</html>